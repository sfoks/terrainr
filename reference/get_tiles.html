<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>A user-friendly way to get USGS National Map data tiles for an area — get_tiles • terrainr</title>

<!-- favicons -->
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png" />
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png" />
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png" />
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png" />

<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="A user-friendly way to get USGS National Map data tiles for an area — get_tiles" />
<meta property="og:description" content="This function splits the area contained within a bounding box into a set of
tiles, and retrieves data from the USGS National map for each tile." />
<meta property="og:image" content="https://mikemahoney218.github.io/terrainr/logo.png" />






<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">terrainr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Vignettes
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/overview.html">A Gentle Introduction to terrainr</a>
    </li>
    <li>
      <a href="../articles/unity_instructions.html">Importing terrainr tiles into Unity</a>
    </li>
  </ul>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">News</a>
</li>
<li>
  <a href="https://github.com/mikemahoney218/terrainr">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>A user-friendly way to get USGS National Map data tiles for an area</h1>
    <small class="dont-index">Source: <a href='https://github.com/mikemahoney218/terrainr/blob/master/R/get_tiles.R'><code>R/get_tiles.R</code></a></small>
    <div class="hidden name"><code>get_tiles.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function splits the area contained within a bounding box into a set of
tiles, and retrieves data from the USGS National map for each tile.</p>
    </div>

    <pre class="usage"><span class='fu'>get_tiles</span><span class='op'>(</span>
  <span class='va'>bbox</span>,
  output_prefix <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempfile</a></span><span class='op'>(</span><span class='op'>)</span>,
  side_length <span class='op'>=</span> <span class='cn'>NULL</span>,
  resolution <span class='op'>=</span> <span class='fl'>1</span>,
  services <span class='op'>=</span> <span class='st'>"elevation"</span>,
  verbose <span class='op'>=</span> <span class='cn'>FALSE</span>,
  georeference <span class='op'>=</span> <span class='cn'>TRUE</span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>bbox</th>
      <td><p>A bounding box representing the lower left and upper right corner
of the area to retrieve a heightmap for. If not a
<code><a href='terrainr_bounding_box.html'>terrainr_bounding_box</a></code> object, it will be coerced to one.</p></td>
    </tr>
    <tr>
      <th>output_prefix</th>
      <td><p>The file prefix to use when saving tiles.</p></td>
    </tr>
    <tr>
      <th>side_length</th>
      <td><p>The length, in meters, of each side of tiles to download.
If <code>NULL</code>, defaults to the maximum side length permitted by the least
permissive service requested.</p></td>
    </tr>
    <tr>
      <th>resolution</th>
      <td><p>How many meters are represented by each pixel? The default
value of 1 means that 1 pixel = 1 meter, while a value of 2 means that
1 pixel = 2 meters, and so on.</p></td>
    </tr>
    <tr>
      <th>services</th>
      <td><p>A character vector of services to download data from. Current
options include "3DEPElevation", "USGSNAIPPlus", and "nhd". Users can also
use short codes to download a specific type of data without specifying the
source; current options for short codes include "elevation" (equivalent to
"3DEPElevation"), "ortho" (equivalent to "USGSNAIPPlus), and "hydro" ("nhd").
Short codes are
not guaranteed to refer to the same source across releases. Short codes are
converted to their service name and then duplicates are removed, so any given
source will only be queried once per tile.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>Logical: should tile retrieval functions run in verbose mode?</p></td>
    </tr>
    <tr>
      <th>georeference</th>
      <td><p>Logical: should tiles be downloaded as PNGs without
georeferencing, or should they be downloaded as georeferenced TIFF files?
This option does nothing when only elevation data is being downloaded.</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Additional arguments passed to <code><a href='hit_national_map_api.html'>hit_national_map_api</a></code>.
These can be used to change default query parameters or as additional options
for the National Map services. See below for more details.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>A list of the same length as the number of unique services requested,
containing named vectors of where data files were saved to. Returned
invisibly.</p>
    <h2 class="hasAnchor" id="available-datasources"><a class="anchor" href="#available-datasources"></a>Available Datasources</h2>

    

<p>The following services are currently available
(with short codes in parentheses where applicable). See links for API
documentation.</p><ul>
<li><p><a href='https://elevation.nationalmap.gov/arcgis/rest/services/3DEPElevation/ImageServer'>3DEPElevation</a>
(short code: elevation)</p></li>
<li><p><a href='https://services.nationalmap.gov/arcgis/rest/services/USGSNAIPPlus/MapServer'>USGSNAIPPlus</a>
(short code: ortho)</p></li>
<li><p><a href='https://hydro.nationalmap.gov/arcgis/rest/services/nhd/MapServer'>nhd</a>
(short code: hydro)</p></li>
<li><p><a href='https://carto.nationalmap.gov/arcgis/rest/services/govunits/MapServer'>govunits</a></p></li>
<li><p><a href='https://carto.nationalmap.gov/arcgis/rest/services/contours/MapServer'>contours</a></p></li>
<li><p><a href='https://carto.nationalmap.gov/arcgis/rest/services/geonames/MapServer'>geonames</a></p></li>
<li><p><a href='https://hydro.nationalmap.gov/arcgis/rest/services/NHDPlus_HR/MapServer'>NHDPlus_HR</a></p></li>
<li><p><a href='https://carto.nationalmap.gov/arcgis/rest/services/structures/MapServer'>structures</a></p></li>
<li><p><a href='https://carto.nationalmap.gov/arcgis/rest/services/transportation/MapServer'>transportation</a></p></li>
<li><p><a href='https://hydro.nationalmap.gov/arcgis/rest/services/wbd/MapServer'>wbd</a>
("short code": watersheds)</p></li>
</ul>

    <h2 class="hasAnchor" id="additional-arguments"><a class="anchor" href="#additional-arguments"></a>Additional Arguments</h2>

    

<p>The <code>...</code> argument can be used to pass additional arguments to the
National Map API or to edit the hard-coded defaults used by this function.
More information on common arguments to change can be found in
<a href='hit_national_map_api.html'>hit_national_map_api</a>. Note that <code>...</code> can also be used to change
the formats returned by the server, but that doing so while using this
function will likely cause the function to error (or corrupt the output
data). To download files in different formats, use <a href='hit_national_map_api.html'>hit_national_map_api</a>.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other data retrieval functions: 
<code><a href='hit_national_map_api.html'>hit_national_map_api</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='kw'>if</span> <span class='op'>(</span><span class='cn'>FALSE</span><span class='op'>)</span> <span class='op'>{</span>
<span class='va'>simulated_data</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span>
  id <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/seq.html'>seq</a></span><span class='op'>(</span><span class='fl'>1</span>, <span class='fl'>100</span>, <span class='fl'>1</span><span class='op'>)</span>,
  lat <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/Uniform.html'>runif</a></span><span class='op'>(</span><span class='fl'>100</span>, <span class='fl'>44.04905</span>, <span class='fl'>44.17609</span><span class='op'>)</span>,
  lng <span class='op'>=</span> <span class='fu'><a href='https://rdrr.io/r/stats/Uniform.html'>runif</a></span><span class='op'>(</span><span class='fl'>100</span>, <span class='op'>-</span><span class='fl'>74.01188</span>, <span class='op'>-</span><span class='fl'>73.83493</span><span class='op'>)</span>
<span class='op'>)</span>

<span class='va'>bbox</span> <span class='op'>&lt;-</span> <span class='fu'><a href='get_bbox.html'>get_coord_bbox</a></span><span class='op'>(</span>lat <span class='op'>=</span> <span class='va'>simulated_data</span><span class='op'>$</span><span class='va'>lat</span>, lng <span class='op'>=</span> <span class='va'>simulated_data</span><span class='op'>$</span><span class='va'>lng</span><span class='op'>)</span>
<span class='va'>bbox</span> <span class='op'>&lt;-</span> <span class='fu'><a href='addbuff.html'>add_bbox_buffer</a></span><span class='op'>(</span><span class='va'>bbox</span>, <span class='fl'>100</span><span class='op'>)</span>
<span class='fu'>get_tiles</span><span class='op'>(</span><span class='va'>bbox</span>, <span class='fu'><a href='https://rdrr.io/r/base/tempfile.html'>tempfile</a></span><span class='op'>(</span><span class='op'>)</span><span class='op'>)</span>
<span class='op'>}</span>

</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Michael Mahoney.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


